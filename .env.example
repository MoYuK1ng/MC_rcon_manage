# ============================================================================
# MC RCON Manager - Environment Configuration
# ============================================================================
# This file contains all environment variables needed to run the application.
# Copy this file to .env and fill in your actual values.
#
# SECURITY WARNING: Never commit the .env file to version control!
# The .env file is already in .gitignore for your protection.
# ============================================================================

# ============================================================================
# Django Core Settings
# ============================================================================

# SECRET_KEY: Django's secret key for cryptographic signing
# IMPORTANT: Generate a new key for production!
# Generate with: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
SECRET_KEY=your-secret-key-here-change-this-in-production

# DEBUG: Enable debug mode (MUST be False in production!)
# Set to False for production to prevent information disclosure
DEBUG=True

# ============================================================================
# RCON Encryption Key (CRITICAL SECURITY SETTING)
# ============================================================================
# This key encrypts all RCON passwords stored in the database.
# 
# GENERATION:
#   Run: python generate_key.py
#   This will automatically generate a secure key and update this file.
#
# REQUIREMENTS:
#   - Must be a valid 44-character Fernet key (base64-encoded)
#   - Never commit this key to version control
#   - Store securely (use secrets management in production)
#
# KEY ROTATION:
#   Rotate periodically (every 6-12 months recommended)
#   Run: python rotate_key.py --generate-new
#
# VERIFICATION:
#   Verify key is valid: python verify_key.py
#   Test password decryption: python verify_key.py --test-passwords
#
# WARNING: If you lose this key, you CANNOT decrypt existing passwords!
# ============================================================================
RCON_ENCRYPTION_KEY=your-fernet-key-here

# ============================================================================
# Network Configuration
# ============================================================================

# ALLOWED_HOSTS: Comma-separated list of hostnames that can serve the app
# Examples:
#   Development: localhost,127.0.0.1
#   Production: yourdomain.com,www.yourdomain.com,123.456.789.0
#   Multiple domains: domain1.com,domain2.com,subdomain.domain3.com
ALLOWED_HOSTS=localhost,127.0.0.1,yourdomain.com

# CSRF_TRUSTED_ORIGINS: Comma-separated list of trusted origins for CSRF
# MUST include the protocol (http:// or https://)
# Examples:
#   Development: http://localhost:8000,http://127.0.0.1:8000
#   Production: https://yourdomain.com,https://www.yourdomain.com
#   Mixed: https://yourdomain.com,http://localhost:8000
CSRF_TRUSTED_ORIGINS=https://yourdomain.com,http://localhost:8000,http://127.0.0.1:8000

# ============================================================================
# Database Configuration (Optional - PostgreSQL)
# ============================================================================
# By default, the application uses SQLite (db.sqlite3).
# For production deployments, PostgreSQL is recommended.
#
# To use PostgreSQL:
# 1. Install psycopg2: pip install psycopg2-binary
# 2. Uncomment and configure the settings below
# 3. Update irongate/settings.py to use PostgreSQL
#
# PostgreSQL Setup:
#   sudo -u postgres createdb irongate
#   sudo -u postgres createuser irongate
#   sudo -u postgres psql
#   postgres=# ALTER USER irongate WITH PASSWORD 'your-secure-password';
#   postgres=# GRANT ALL PRIVILEGES ON DATABASE irongate TO irongate;
# ============================================================================

# DB_ENGINE=django.db.backends.postgresql
# DB_NAME=irongate
# DB_USER=irongate
# DB_PASSWORD=your-secure-database-password
# DB_HOST=localhost
# DB_PORT=5432

# ============================================================================
# Email Configuration (Optional - for user registration)
# ============================================================================
# Configure SMTP settings for sending emails (password resets, notifications)
#
# Gmail Example:
#   EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
#   EMAIL_HOST=smtp.gmail.com
#   EMAIL_PORT=587
#   EMAIL_USE_TLS=True
#   EMAIL_HOST_USER=your-email@gmail.com
#   EMAIL_HOST_PASSWORD=your-app-specific-password
# ============================================================================

# EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER=your-email@example.com
# EMAIL_HOST_PASSWORD=your-email-password

# ============================================================================
# Development Server Settings (Optional)
# ============================================================================
# These settings are used by the development server launcher
# Production deployments use Gunicorn + Nginx instead
# ============================================================================

# DEV_SERVER_PORT=8000
# DEV_SERVER_HOST=127.0.0.1

# ============================================================================
# Additional Production Settings
# ============================================================================
# Uncomment and configure these for production deployments
# ============================================================================

# SECURE_SSL_REDIRECT=True
# SESSION_COOKIE_SECURE=True
# CSRF_COOKIE_SECURE=True
# SECURE_HSTS_SECONDS=31536000
# SECURE_HSTS_INCLUDE_SUBDOMAINS=True
# SECURE_HSTS_PRELOAD=True

# ============================================================================
# Automatic Backup Configuration
# ============================================================================
# Configure automatic database backups to prevent data loss
# These settings control when and where backups are stored
# ============================================================================

# ENABLE_AUTO_BACKUP: Enable or disable automatic database backups
# Set to True to enable automatic backups, False to disable
# When enabled, the system will automatically backup the database
# according to the configured schedule (typically daily via cron)
ENABLE_AUTO_BACKUP=False

# BACKUP_PATH: Directory where backup files will be stored
# IMPORTANT: 
#   - Must be an absolute path (e.g., /opt/mc_rcon/backups)
#   - Directory will be created automatically if it doesn't exist
#   - Ensure sufficient disk space for multiple backup files
#   - Consider using a separate partition or external storage for production
# Examples:
#   Local storage: /opt/mc_rcon/backups
#   External mount: /mnt/backup_drive/mc_rcon
#   Network storage: /mnt/nfs/backups/mc_rcon
BACKUP_PATH=/opt/mc_rcon/backups

# BACKUP_MAX_COUNT: Maximum number of backup files to retain
# When this limit is reached, the oldest backup will be automatically deleted
# before creating a new backup to maintain the specified count
# 
# RECOMMENDED VALUES:
#   - Development: 3-5 backups
#   - Production: 7-14 backups (1-2 weeks of daily backups)
#   - High-frequency: 30+ backups (for hourly backups)
#
# DEFAULT: 5 (keeps 5 most recent backups)
# MINIMUM: 1 (always keep at least one backup)
# MAXIMUM: No limit, but consider disk space
BACKUP_MAX_COUNT=5

# ============================================================================
# Backup Schedule Configuration (Cron Job Examples)
# ============================================================================
# The backup system can be scheduled using cron jobs
# Add these to your crontab (crontab -e) for automatic scheduling:
#
# Daily backup at 2 AM:
# 0 2 * * * cd /opt/mc_rcon && python3 manage.py backup_database >> /var/log/mc_rcon_backup.log 2>&1
#
# Weekly backup on Sunday at 3 AM:
# 0 3 * * 0 cd /opt/mc_rcon && python3 manage.py backup_database >> /var/log/mc_rcon_backup.log 2>&1
#
# Hourly backup (for high-activity servers):
# 0 * * * * cd /opt/mc_rcon && python3 manage.py backup_database >> /var/log/mc_rcon_backup.log 2>&1
# ============================================================================

# ============================================================================
# End of Configuration
# ============================================================================

