{% extends "jazzmin/base.html" %}
{% load i18n static %}

{% block extrahead %}
{{ block.super }}
<style>
/* Completely override and hide Jazzmin version */
.main-footer {
    padding: 1rem !important;
    text-align: center !important;
}

.main-footer * {
    display: none !important;
}

.main-footer::after {
    content: "© 2025 MoYuK1ng - MC RCON Manager" !important;
    display: block !important;
    font-weight: bold !important;
    color: #333 !important;
}

/* Hide any version-related elements */
.main-footer .float-right,
.main-footer small,
.main-footer b,
.main-footer div,
.main-footer span,
[class*="version"],
*:contains("Jazzmin"),
*:contains("版本"),
*:contains("3.0.1") {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    height: 0 !important;
    width: 0 !important;
    overflow: hidden !important;
}
</style>

<script>
// Aggressively clean footer on page load
(function() {
    'use strict';
    
    function forceCleanFooter() {
        const footer = document.querySelector('.main-footer');
        if (!footer) return;
        
        // Clear all content
        footer.innerHTML = '';
        
        // Add our custom content with link
        const link = document.createElement('a');
        link.href = 'https://github.com/MoYuK1ng/MC_rcon_manage';
        link.target = '_blank';
        link.rel = 'noopener noreferrer';
        link.style.cssText = 'color: #007bff; text-decoration: none; font-weight: bold;';
        link.textContent = 'MoYuK1ng';
        
        const strong = document.createElement('strong');
        strong.textContent = '© 2025 ';
        strong.appendChild(link);
        strong.appendChild(document.createTextNode(' - MC RCON Manager'));
        
        footer.appendChild(strong);
        
        // Add hover effect
        link.addEventListener('mouseenter', function() {
            this.style.color = '#0056b3';
            this.style.textDecoration = 'underline';
        });
        link.addEventListener('mouseleave', function() {
            this.style.color = '#007bff';
            this.style.textDecoration = 'none';
        });
    }
    
    // Run multiple times to ensure it works
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', forceCleanFooter);
    } else {
        forceCleanFooter();
    }
    
    // Run again after a short delay
    setTimeout(forceCleanFooter, 100);
    setTimeout(forceCleanFooter, 500);
    setTimeout(forceCleanFooter, 1000);
    
    // Watch for any DOM changes
    const observer = new MutationObserver(function(mutations) {
        const footer = document.querySelector('.main-footer');
        if (footer && footer.textContent.includes('Jazzmin')) {
            forceCleanFooter();
        }
    });
    
    // Start observing the entire body
    observer.observe(document.body, {
        childList: true,
        subtree: true,
        characterData: true
    });
})();
</script>
{% endblock %}
