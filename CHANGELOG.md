# æ›´æ–°æ—¥å¿— / Changelog

## v2.2.0 (2024-11-28)

### ðŸ”§ ä¿®å¤ / Fixes
- **ä¿®å¤ .env æ–‡ä»¶ç”Ÿæˆé€»è¾‘**ï¼šè§£å†³ä½¿ç”¨ `sed` å’Œ `echo >>` å¯¼è‡´çš„é‡å¤è¡Œå’Œæ ¼å¼é”™è¯¯é—®é¢˜
- **å®Œå–„ CSRF é…ç½®**ï¼šç¡®ä¿ `CSRF_TRUSTED_ORIGINS` åŒ…å«æ‰€æœ‰å¿…è¦çš„åœ°å€
  - ç›´æŽ¥è®¿é—®æ¨¡å¼ï¼š`http://localhost:PORT` + `http://127.0.0.1:PORT`
  - åå‘ä»£ç†æ¨¡å¼ï¼š`https://DOMAIN` + `http://localhost:PORT` + `http://127.0.0.1:PORT`
- **æ”¹è¿›æ–‡ä»¶æ ¼å¼**ï¼šä½¿ç”¨ `cat > .env` ç›´æŽ¥ç”Ÿæˆå®Œæ•´æ–‡ä»¶ï¼Œç¡®ä¿æ­£ç¡®çš„æ¢è¡Œç¬¦

### âœ¨ æ”¹è¿› / Improvements
- **ç‰ˆæœ¬æ˜¾ç¤º**ï¼šåœ¨ä¸»èœå•æ˜¾ç¤ºå½“å‰è„šæœ¬ç‰ˆæœ¬å’Œæ—¥æœŸ
- **é…ç½®ä¿æŠ¤**ï¼šæ›´æ–°åº”ç”¨æ—¶ä¸ä¼šä¿®æ”¹ç”¨æˆ·çš„ `.env` é…ç½®
- **é”™è¯¯é¢„é˜²**ï¼šé¿å…ç”Ÿäº§çŽ¯å¢ƒä¸­å‡ºçŽ° CSRF 403 é”™è¯¯

### ðŸ“ æŠ€æœ¯ç»†èŠ‚ / Technical Details
```bash
# æ—§æ–¹å¼ï¼ˆæœ‰é—®é¢˜ï¼‰
sed -i "s/^DEBUG=.*/DEBUG=False/" .env
echo "ALLOWED_HOSTS=..." >> .env

# æ–°æ–¹å¼ï¼ˆæ­£ç¡®ï¼‰
cat > .env << EOF
# Django Settings
SECRET_KEY=${SECRET_KEY}
DEBUG=False
...
EOF
```

---

## v2.1.0 (2024-11-27)

### âœ¨ æ–°åŠŸèƒ½ / New Features
- **è„šæœ¬è‡ªæ›´æ–°åŠŸèƒ½**ï¼šæ–°å¢žé€‰é¡¹ 11ï¼Œæ”¯æŒè‡ªåŠ¨æ£€æŸ¥å’Œæ›´æ–°ç®¡ç†è„šæœ¬
- **ç‰ˆæœ¬ç®¡ç†**ï¼šæ·»åŠ  VERSION æ–‡ä»¶è·Ÿè¸ªè„šæœ¬ç‰ˆæœ¬
- **åŒè¯­æ”¯æŒ**ï¼šå®Œæ•´çš„ä¸­è‹±æ–‡ç•Œé¢

### ðŸ—‘ï¸ æ¸…ç† / Cleanup
- åˆ é™¤å¤šä½™çš„æ–‡æ¡£å’Œè„šæœ¬æ–‡ä»¶
- ç»Ÿä¸€æ‰€æœ‰åŠŸèƒ½åˆ° `manage.sh` ä¸€ä¸ªè„šæœ¬ä¸­

---

## v2.0.0 (2024-11-26)

### âœ¨ æ–°åŠŸèƒ½ / New Features
- **ç»Ÿä¸€ç®¡ç†è„šæœ¬**ï¼šæ•´åˆæ‰€æœ‰ç®¡ç†åŠŸèƒ½
- **è®¿é—®æ–¹å¼é€‰æ‹©**ï¼šæ”¯æŒç›´æŽ¥è®¿é—®å’Œåå‘ä»£ç†ä¸¤ç§æ¨¡å¼
- **è‡ªåŠ¨ CSRF é…ç½®**ï¼šæ ¹æ®è®¿é—®æ–¹å¼è‡ªåŠ¨é…ç½® CSRF è®¾ç½®
- **å®Œæ•´çš„æœåŠ¡ç®¡ç†**ï¼šå¯åŠ¨ã€åœæ­¢ã€é‡å¯ã€æŸ¥çœ‹çŠ¶æ€å’Œæ—¥å¿—
- **æ•°æ®å¤‡ä»½æ¢å¤**ï¼šæ”¯æŒæ•°æ®åº“å’Œé…ç½®æ–‡ä»¶çš„å¤‡ä»½æ¢å¤
- **å®Œå…¨å¸è½½åŠŸèƒ½**ï¼šå¸¦å®‰å…¨ç¡®è®¤çš„å¸è½½é€‰é¡¹

### ðŸ”§ æ”¹è¿› / Improvements
- ç§»é™¤ Nginx ç®¡ç†ï¼Œé¿å…ä¸Žå®å¡”é¢æ¿å†²çª
- æ”¹è¿›é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º
- ä¼˜åŒ–å®‰è£…æµç¨‹

---

## å¦‚ä½•æ›´æ–° / How to Update

### æ–¹æ³• 1ï¼šä½¿ç”¨è„šæœ¬è‡ªæ›´æ–°ï¼ˆæŽ¨èï¼‰
```bash
cd /opt/mc_rcon
bash manage.sh
# é€‰æ‹©è¯­è¨€åŽï¼Œé€‰æ‹©é€‰é¡¹ 11 (æ›´æ–°ç®¡ç†è„šæœ¬)
```

### æ–¹æ³• 2ï¼šæ‰‹åŠ¨ä¸‹è½½
```bash
cd /opt/mc_rcon
wget https://raw.githubusercontent.com/MoYuK1ng/MC_rcon_manage/main/manage.sh -O manage.sh
chmod +x manage.sh
```

### æ–¹æ³• 3ï¼šGit æ‹‰å–
```bash
cd /opt/mc_rcon
git pull origin main
```

---

## ç‰ˆæœ¬æ£€æŸ¥ / Version Check

æŸ¥çœ‹å½“å‰è„šæœ¬ç‰ˆæœ¬ï¼š
```bash
grep "SCRIPT_VERSION=" manage.sh | head -1
```

æŸ¥çœ‹è¿œç¨‹æœ€æ–°ç‰ˆæœ¬ï¼š
```bash
curl -s https://raw.githubusercontent.com/MoYuK1ng/MC_rcon_manage/main/VERSION
```
